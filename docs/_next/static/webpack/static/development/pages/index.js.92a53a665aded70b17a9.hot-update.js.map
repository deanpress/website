{"version":3,"file":"static/webpack/static/development/pages/index.js.92a53a665aded70b17a9.hot-update.js","sources":["webpack:///./components/DownloadButton/DownloadButton.js"],"sourcesContent":["import classNames from 'classnames';\nimport {string} from 'prop-types';\nimport styles from './DownloadButton.scss';\n\nexport default class DownloadButton extends React.Component {\n\n    state = {downloadUrl: \"https://github.com/nos/client/releases\"};\n\n    setDownloadUrl = async () => {\n        let downloadUrl = \"https://github.com/nos/client/releases\";\n        const resp = await fetch('https://api.github.com/repos/nos/client/releases/latest');\n        const response = await resp.json();\n        const assets = response.assets;\n        assets.forEach(asset => {\n            console.log(asset.url);\n            console.log(asset.url.endsWith(\".AppImage\"));\n            if ((asset.url.endsWith(\".exe\") && navigator.platform.indexOf('Win') !== -1) || (asset.url.endsWith(\".dmg\") && navigator.platform.indexOf('Mac') !== -1) || (asset.url.endsWith(\".AppImage\") && navigator.platform.indexOf('Linux') !== -1)) {\n                console.log(asset.url);\n                this.setState({downloadUrl : asset.url});\n            }\n        });\n    };\n\n    componentDidMount() {\n        if(this.state.downloadUrl === \"https://github.com/nos/client/releases\") {\n            this.setDownloadUrl();\n        }\n    }\n\n\n    render() {\n        return (\n            <a\n                className={classNames('button', styles.downloadButton, this.props.className)}\n                href={this.state.downloadUrl}\n                target=\"_blank\"\n            >\n                {this.props.label}\n            </a>\n        )\n    }\n\n}\n\nDownloadButton.propTypes = {\n    className: string,\n    label: string\n}\n\nDownloadButton.defaultProps = {\n    className: null,\n    label: 'Download Now'\n}\n\n\n\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AAEA;AAAA;AAAA;AACA;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAEA;AAFA;AAAA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;AAcA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;;;;AApCA;AACA;AADA;AAwCA;AACA;AACA;AAFA;AAKA;AACA;AACA;AAFA;;;;A","sourceRoot":""}